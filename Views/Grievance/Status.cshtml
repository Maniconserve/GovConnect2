@model List<TimeLineEntry>

<head>
	<title>Grievance Status</title>
	<link href="~/css/status.css" rel="stylesheet" />
</head>
<body>
	<div class="min-vh-100">
		<div class="head">
			<h1>Grievance Status</h1>
		</div>

		<div class="container mt-5 w-75">
			<div class="row justify-content-center">
				<div class="col-md-8">
					<div class="card p-4 shadow-lg">
						<form method="post" action="@Url.Action("Status", "Grievance")">
							<div class="row g-3">
								<div class="col-md-6">
									<label for="grievanceNo" class="form-label fw-bold">Grievance No<span class="text-danger">*</span></label>
									<input type="text" class="form-control" id="grievanceNo" name="grievanceId" placeholder="Enter Grievance No" required>
								</div>
								<div class="col-md-6 d-flex align-items-end">
									<button type="submit" class="btn btn-success w-100">Get Details</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		@if (Model != null && Model.Count > 0)
		{
			<div class="row justify-content-center mt-5">
				<div class="col-md-10">
					<div class="card">
						<div class="card-body">
							<table class="table table-striped table-bordered">
								<thead class="table-light">
									<tr>
										<th>Date</th>
										<th>Status</th>
									</tr>
								</thead>
								<tbody>
									@foreach (var entry in Model)
									{
										<tr>
											<td>@entry.Date</td>
											<td>@entry.Work</td>
										</tr>
									}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		}
		else if (Context.Request.Method == "POST")
		{
			<div class="alert alert-warning">
				No timeline found for the given Grievance ID.
			</div>
		}
	</div>
</body>
